<!--
  Generated template for the HoteldetailPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar color="shscolor">
    <ion-title>Hotel Detail</ion-title>
  </ion-navbar>
</ion-header>

<ion-content style="background-color:#f2f2f2;">
  <div *ngIf="hoteldetailData">
    <div class="header-banner">
      <ion-slides *ngIf="hoteldetailData.hotel.images.length > 0" autoplay="3000" loop="true" speed="500">
        <ion-slide *ngFor="let banner of hoteldetailData.hotel.images">
          <img src="https://photos.hotelbeds.com/giata/bigger/{{banner.path}}">
        </ion-slide>
      </ion-slides>
    </div>
    <div padding text-justify>
      <h6>{{hoteldetailData.hotel.name.content}}</h6>
      <h6>Description : </h6>
      {{hoteldetailData.hotel.description.content}}
    </div>
    <div padding>
      <h6>Information : </h6>
      <ion-grid>
        <ion-row text-center>
          <ion-col col-4>
            <a class="item" (click)="openMaps(hoteldetailData.hotel.coordinates.latitude,hoteldetailData.hotel.coordinates.longitude,hoteldetailData.hotel.name.content)">
              <img src="../../assets/imgs/mapsview.png" style="width:30px;">
            </a>
            <br>View on Maps
          </ion-col>
          <!-- <ion-col col-4>
            <div *ngFor="let phone of hoteldetailData.hotel.phones">
              <div *ngIf="phone.phoneType === 'PHONEHOTEL'">
                {{getPhone(phone.phoneNumber)}}<br>
                <a class="item" (click)="openPhone(phone.phoneNumber)">
                  <img src="../../assets/imgs/phones.png" style="width:30px;">
                </a>
              </div>
            </div>
            <br>Call
          </ion-col> -->
          <ion-col col-4 *ngIf="hoteldetailData.hotel.web">
            <a class="item" (click)="openWeb(hoteldetailData.hotel.web)">
              <img src="../../assets/imgs/www.png" style="width:30px;">
            </a>
            <br>Open Website
          </ion-col>
        </ion-row>
      </ion-grid>
    </div>
    <div padding>
      <h6>Facilities : </h6>
      <div *ngFor="let fac of hoteldetailData.hotel.facilities">
        <div *ngIf="fac.facilityGroupCode === 10">
          <img src="../../assets/imgs/fac10.png" style="width:10px;"> {{fac.description.content}} : {{fac.number}}
        </div>
        <div *ngIf="fac.facilityGroupCode === 20">
          <img src="../../assets/imgs/fac20.png" style="width:10px;"> {{fac.description.content}}
        </div>
        <div *ngIf="fac.facilityGroupCode === 30 && (fac.indLogic === true || fac.indYesOrNo === true)">
          <img src="../../assets/imgs/fac30.png" style="width:10px;"> {{fac.description.content}}
        </div>
        <div *ngIf="fac.facilityGroupCode === 40">
          <img src="../../assets/imgs/fac40.png" style="width:10px;"> {{fac.description.content}} : {{fac.distance}}
        </div>
        <div *ngIf="fac.facilityGroupCode === 60 && (fac.indLogic === true || fac.indYesOrNo === true)">
          <img src="../../assets/imgs/fac60.png" style="width:10px;"> {{fac.description.content}}
        </div>
        <div *ngIf="fac.facilityGroupCode === 70 && (fac.indLogic === true || fac.indYesOrNo === true)">
          <img src="../../assets/imgs/fac70.png" style="width:10px;"> {{fac.description.content}}
        </div>
        <div *ngIf="fac.facilityGroupCode === 71 && (fac.indLogic === true || fac.indYesOrNo === true)">
          <img src="../../assets/imgs/fac70.png" style="width:10px;"> {{fac.description.content}}
        </div>
        <div *ngIf="fac.facilityGroupCode === 72 && (fac.indLogic === true || fac.indYesOrNo === true)">
          <img src="../../assets/imgs/fac70.png" style="width:10px;"> {{fac.description.content}}
        </div>
        <div *ngIf="fac.facilityGroupCode === 73 && (fac.indLogic === true || fac.indYesOrNo === true)">
          <img src="../../assets/imgs/fac70.png" style="width:10px;"> {{fac.description.content}}
        </div>
        <div *ngIf="fac.facilityGroupCode === 74 && (fac.indLogic === true || fac.indYesOrNo === true)">
          <img src="../../assets/imgs/fac70.png" style="width:10px;"> {{fac.description.content}}
        </div>
        <div *ngIf="fac.facilityGroupCode === 75 && (fac.indLogic === true || fac.indYesOrNo === true)">
          <img src="../../assets/imgs/fac70.png" style="width:10px;"> {{fac.description.content}}
        </div>
        <div *ngIf="fac.facilityGroupCode === 76 && (fac.indLogic === true || fac.indYesOrNo === true)">
          <img src="../../assets/imgs/fac70.png" style="width:10px;"> {{fac.description.content}}
        </div>
        <div *ngIf="fac.facilityGroupCode === 77 && (fac.indLogic === true || fac.indYesOrNo === true)">
          <img src="../../assets/imgs/fac70.png" style="width:10px;"> {{fac.description.content}}
        </div>
        <div *ngIf="fac.facilityGroupCode === 78 && (fac.indLogic === true || fac.indYesOrNo === true)">
          <img src="../../assets/imgs/fac70.png" style="width:10px;"> {{fac.description.content}}
        </div>
        <div *ngIf="fac.facilityGroupCode === 79 && (fac.indLogic === true || fac.indYesOrNo === true)">
          <img src="../../assets/imgs/fac70.png" style="width:10px;"> {{fac.description.content}}
        </div>
        <div *ngIf="fac.facilityGroupCode === 80">
          <img src="../../assets/imgs/fac80.png" style="width:10px;"> {{fac.description.content}}
        </div>
        <div *ngIf="fac.facilityGroupCode === 85">
          <img src="../../assets/imgs/fac80.png" style="width:10px;"> {{fac.description.content}}
        </div>
        <div *ngIf="fac.facilityGroupCode === 90">
          <img src="../../assets/imgs/fac90.png" style="width:10px;"> {{fac.description.content}}
        </div>
        <div *ngIf="fac.facilityGroupCode === 100">
          <img src="../../assets/imgs/fac100.png" style="width:10px;"> {{fac.description.content}}
        </div>
      </div>
    </div>
    <ion-card class="adv-map" *ngFor="let hotel of hotelData; let i = index">
      <ion-item>
        <ion-avatar item-start>
          <img src="{{hotel.picture}}" onerror="this.src='../../assets/imgs/logoshadow.png'">
        </ion-avatar>
        <div
          *ngIf="hotel.categoryCode === '1EST' || hotel.categoryCode === '1LUX' || hotel.categoryCode === 'APTH' || hotel.categoryCode === 'HS'">
          <span class="fa fa-star" style="color:gold"></span>
        </div>
        <div *ngIf="hotel.categoryCode === 'H1_5'">
          <span class="fa fa-star" style="color: gold;"></span>
          <span class="fa fa-star-half" style="color:gold"></span>
        </div>
        <div
          *ngIf="hotel.categoryCode === '2EST' || hotel.categoryCode === '2LUX' || hotel.categoryCode === 'APTH2' || hotel.categoryCode === 'HS2' || hotel.categoryCode === 'H2S'">
          <span class="fa fa-star" style="color: gold;"></span>
          <span class="fa fa-star" style="color:gold"></span>
        </div>
        <div *ngIf="hotel.categoryCode === 'H2_5'">
          <span class="fa fa-star" style="color: gold;"></span>
          <span class="fa fa-star" style="color:gold"></span>
          <span class="fa fa-star-half" style="color:gold"></span>
        </div>
        <div
          *ngIf="hotel.categoryCode === '3EST' || hotel.categoryCode === '3LUX' || hotel.categoryCode === 'APTH3' || hotel.categoryCode === 'HS3' || hotel.categoryCode === 'H3S'">
          <span class="fa fa-star" style="color: gold;"></span>
          <span class="fa fa-star" style="color:gold"></span>
          <span class="fa fa-star" style="color:gold"></span>
        </div>
        <div *ngIf="hotel.categoryCode === 'H3_5'">
          <span class="fa fa-star" style="color: gold;"></span>
          <span class="fa fa-star" style="color:gold"></span>
          <span class="fa fa-star" style="color:gold"></span>
          <span class="fa fa-star-half" style="color:gold"></span>
        </div>
        <div
          *ngIf="hotel.categoryCode === '4EST' || hotel.categoryCode === '4LUX' || hotel.categoryCode === 'APTH4' || hotel.categoryCode === 'HS4'">
          <span class="fa fa-star" style="color: gold;"></span>
          <span class="fa fa-star" style="color:gold"></span>
          <span class="fa fa-star" style="color:gold"></span>
          <span class="fa fa-star" style="color:gold"></span>
        </div>
        <div *ngIf="hotel.categoryCode === 'H4_5'">
          <span class="fa fa-star" style="color: gold;"></span>
          <span class="fa fa-star" style="color:gold"></span>
          <span class="fa fa-star" style="color:gold"></span>
          <span class="fa fa-star" style="color:gold"></span>
          <span class="fa fa-star-half" style="color:gold"></span>
        </div>
        <div
          *ngIf="hotel.categoryCode === '5EST' || hotel.categoryCode === '5LUX' || hotel.categoryCode === 'APTH5' || hotel.categoryCode === 'HS5'">
          <span class="fa fa-star" style="color: gold;"></span>
          <span class="fa fa-star" style="color:gold"></span>
          <span class="fa fa-star" style="color:gold"></span>
          <span class="fa fa-star" style="color:gold"></span>
          <span class="fa fa-star" style="color:gold"></span>
        </div>
        <div *ngIf="hotel.categoryCode === 'CHUES'">
          <span>Hostel</span>
        </div>
        <div
          *ngIf="hotel.categoryCode === '1LL' || hotel.categoryCode === '2LL' || hotel.categoryCode === '3LL' || hotel.categoryCode === '4LL' || hotel.categoryCode === '5LL'">
          <span>Apartment</span>
        </div>
        <span>{{hotel.name}}</span><br>
        <span>{{hoteldetailData.hotel.address.content}}, {{hoteldetailData.hotel.city.content}}</span><br>
        <span><b style="color:#ff6600;">{{getPoint(hotel.minRate)}} Point</b></span>
      </ion-item>
      <div ion-item (click)="toggleGroup(i)" [ngClass]="{active: isGroupShown(i)}" style="margin-top:-3%;">
        <b style="color:#ff6600;">Room</b>
        <img src="../../assets/imgs/detail.png" style="width:5%;" item-end>
      </div>

      <ion-list radio-group [(ngModel)]="itemFamily" *ngIf="isGroupShown(i)">
        <ion-item *ngFor="let room of hotel.rooms" class="ion-text-justify">
          <b class="ion-text-capitalize">{{room.name}}</b>
          <div *ngFor="let rate of room.rates">
            <div *ngIf="rate.rateType === 'RECHECK'" class="ratestyle"
              (click)="recheckHotel(hotel.code,rate.rateKey,rate.rateType,rate.rateCommentsId)">
              <b class="ion-text-capitalize">{{rate.boardName}}</b><br>
              <i *ngIf="rate.rateClass === 'NRF'">Non Refundable</i>
              <i *ngIf="rate.rateClass === 'NOR'">Refundable</i>
              <br><b style="color:#ff6600;">{{getPoint(rate.net)}} Point</b>
            </div>
            <div *ngIf="rate.rateType === 'BOOKABLE'" class="ratestyle"
              (click)="bookHotel(hotel.code,hotel.name,hotel.categoryCode,rate.rateKey,rate.rateType,rate.rateClass,
              rate.rateCommentsId,room.name,rate.boardName,rate.rooms,rate.adults,rate.children,rate.net,
              jsonhotel.data.hotels.checkIn,jsonhotel.data.hotels.checkOut)">
              <b class="ion-text-capitalize">{{rate.boardName}}</b><br>
              <i *ngIf="rate.rateClass === 'NRF'">Non Refundable</i>
              <i *ngIf="rate.rateClass === 'NOR'">Refundable</i>
              <br><b style="color:#ff6600;">{{getPoint(rate.net)}} Point</b>
            </div>
          </div>
        </ion-item>
      </ion-list>
    </ion-card>
  </div>
</ion-content>